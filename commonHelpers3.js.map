{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport 'notiflix/dist/notiflix-3.2.7.min.css';\n\nconst formRef = document.querySelector('form.form');\nconst butnRef = document.querySelector('form button[type=\"submit\"]');\nformRef.addEventListener('submit', onPromiseFormSubmit);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (Math.random() > 0.4) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onPromiseFormSubmit(e) {\n  e.preventDefault();\n  const { amount, delay, step } = e.currentTarget;\n\n  // setting form data to variable\n  const numOfPromises = parseInt(amount.value);\n  const initialDelay = parseInt(delay.value);\n  const additionalDelay = parseInt(step.value);\n\n\n  for (let i = 0; i < numOfPromises; i += 1) {\n    const promiseDelay = initialDelay * 1 + i * additionalDelay;\n\n    createPromise(i + 1, promiseDelay)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  }\n\n  butnRef.disabled = true;\n  setTimeout(() => {\n    butnRef.disabled = false;\n  }, (numOfPromises * additionalDelay + initialDelay) * 1);\n}\n"],"names":["formRef","butnRef","onPromiseFormSubmit","createPromise","position","delay","resolve","reject","amount","step","numOfPromises","initialDelay","additionalDelay","i","promiseDelay","Notify"],"mappings":"wIAGA,MAAMA,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAU,SAAS,cAAc,4BAA4B,EACnED,EAAQ,iBAAiB,SAAUE,CAAmB,EAEtD,SAASC,EAAcC,EAAUC,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACX,KAAK,OAAQ,EAAG,GAClBD,EAAQ,CAAE,SAAAF,EAAU,MAAAC,CAAK,CAAE,EAE3BE,EAAO,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASH,EAAoB,EAAG,CAC9B,EAAE,eAAc,EAChB,KAAM,CAAE,OAAAM,EAAQ,MAAAH,EAAO,KAAAI,CAAI,EAAK,EAAE,cAG5BC,EAAgB,SAASF,EAAO,KAAK,EACrCG,EAAe,SAASN,EAAM,KAAK,EACnCO,EAAkB,SAASH,EAAK,KAAK,EAG3C,QAASI,EAAI,EAAGA,EAAIH,EAAeG,GAAK,EAAG,CACzC,MAAMC,EAAeH,EAAe,EAAIE,EAAID,EAE5CT,EAAcU,EAAI,EAAGC,CAAY,EAC9B,KAAK,CAAC,CAAE,SAAAV,EAAU,MAAAC,KAAY,CAC7BU,SAAO,QAAQ,uBAAuBX,CAAQ,OAAOC,CAAK,IAAI,CACtE,CAAO,EACA,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC9BU,SAAO,QAAQ,sBAAsBX,CAAQ,OAAOC,CAAK,IAAI,CACrE,CAAO,CACJ,CAEDJ,EAAQ,SAAW,GACnB,WAAW,IAAM,CACfA,EAAQ,SAAW,EACpB,GAAGS,EAAgBE,EAAkBD,GAAgB,CAAC,CACzD"}